/* 
MK Web Notifications v1.0 - jQuery Plug-In JavaScript.
A easy to use jQuery plug-in for in browser notifications and toasts.
Documentation: https://github.com/<id>.
LICENSE: MIT. 
*/
var icons={default:"fa fa-bell",primary:"fa fa-bell",success:"fa fa-check",danger:"fa fa-exclamation-triangle",warning:"fa fa-exclamation",info:"fa fa-info",light:"fa fa-bell",dark:"fa fa-bell",purple:"fa fa-bell"},uniqueId=0;function mkNotifications(i){config=void 0==i?{positionY:"right",positionX:"bottom",scrollable:!0,rtl:!1,max:5}:{positionY:void 0!=i.positionY?i.positionY:"right",positionX:void 0!=i.positionX?i.positionX:"bottom",scrollable:void 0==i.scrollable||i.scrollable,rtl:void 0!=i.rtl&&i.rtl,max:void 0!=i.max?i.max:5},1==config.scrollable?scrollable=" mk-scrollable":scrollable="",1==config.rtl?rtl=" mk-rtl":rtl="";var o='<div id="mk-notifications" data-max="'+config.max+'" class="mk-notifications mk-'+config.positionX+" mk-"+config.positionY+scrollable+rtl+'"></div>',l=document.getElementById("mk-notifications");void 0!=l&&$(l).remove(),$("body").prepend(o)}function mkNoti(i,o,l){var n=document.getElementById("mk-notifications"),a={status:"default",icon:{class:null,color:null,background:null},link:{url:null,target:"_self",function:null},dismissable:!0,callback:null,duration:7e3};if(void 0!==l)a={status:void 0!=l.status?l.status:"default",icon:void 0==l.icon?a.icon:{class:void 0!=l.icon.class?l.icon.class:null,color:void 0!=l.icon.color?l.icon.color:null,background:void 0!=l.icon.background?l.icon.background:null},link:void 0==l.link?a.link:{url:void 0!=l.link.url?l.link.url:null,target:void 0!=l.link.target?l.link.target:"_self",function:void 0!=l.link.function?l.link.function:null},dismissable:void 0==l.dismissable||l.dismissable,callback:void 0!=l.callback?l.callback:null,duration:void 0!=l.duration?l.duration:7e3};var t=0,s=0;void 0!=i&&(t+=1.1*(s=i.length)),s>=70&&(i=i.substr(0,67)+"...");var c=0;void 0!=o&&(t+=c=o.length),t>=140?o="":c>=140-1.1*s&&(o=o.substr(0,140-1.1*s)+"...");var e="";null!=a.icon.color&&(e="color:"+a.icon.color+";");var d="";null!=a.icon.background&&(d="background:"+a.icon.background+";");var u="";""==e&&""==d||(u=' style="'+e+d+'"');var r='<i class="'+(null!=a.icon.class?a.icon.class:icons[a.status])+'"></i>',m=uniqueId,k=null;null!=a.callback&&(k=!0);var f=" mk-hide",v=!1;1==a.dismissable&&(f="",v=!0);var g='<div class="mk-noti mk-'+a.status+'" data-unique="'+m+'" data-dismiss="'+v+'" data-callback="'+k+'" data-duration="'+a.duration+'" id="mk-noti-'+m+'"><div'+u+' class="mk-icon">'+r+'</div><div class="mk-body"><i id="mk-close-'+m+'" class="fa fa-times mk-close'+f+'"></i><h3 class="mk-title">'+i+'</h3><p class="mk-text">'+o+"</p></div></div>";$(n).prepend(g);var b=document.getElementById("mk-close-"+m);$(b).on("click",function(i){i.stopImmediatePropagation(),closeMkNoti(m),1==k&&a.callback()});var p=document.getElementById("mk-noti-"+m);null!=a.link.url&&$(p).on("click",function(i){i.stopImmediatePropagation(),window.open(a.link.url,a.link.target),null!=a.link.function&&a.link.function()});var h=$(".on-show").length,x=$(n).data("max");h<x||"null"==x?(setTimeout(function(){$(p).addClass("show"),$(p).addClass("on-show")},100),setTimeout(function(){$(b).click()},a.duration)):$(p).addClass("mk-pending"),uniqueId++}function closeMkNoti(i){var o=document.getElementById("mk-noti-"+i);$(o).removeClass("show",$(function(){setTimeout(function(){$(o).remove();var i=$(".on-show").length,l=$("#mk-notifications").data("max");if(i<l||"null"==l)for(var n=l-i,a=0;a<n;a++){var t=document.getElementsByClassName("mk-pending")[document.getElementsByClassName("mk-pending").length-1];if(void 0!=t){var s=t.dataset.duration,c=t.dataset.dismiss,e=t.dataset.unique;setTimeout(function(){$(t).addClass("show"),$(t).addClass("on-show"),$(t).removeClass("mk-pending")},100),"true"==c&&setTimeout(function(){$("#mk-close-"+e).click()},s)}}},400)}))}
